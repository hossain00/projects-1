<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>


</head>
<body>
	<div>
		<div class="container">
			<h1>
				Simple Application System <small>Hiring Manager's View</small>
			</h1>
			<hr class="app-primary">
<button type="button" id="recommend" class="btn btn-warning">Recommendation</button>
<button type="button" id="createjob" class="btn btn-warning" data-toggle="modal" data-target=".bd-example-modal-lg">Post Job</button>

			<table class="table table-hover table-responsive app-datatable"
				id="apptable">
				<thead>
					<tr>
						<th>App ID</th>
						<th>Candidate</th>
						<th>Skills</th>
						<th>Resume</th>
						<th>Applied Position</th>
						<th>Time Submitted</th>
						<th>Status</th>
						<th>Action</th>
					</tr>
				</thead>
				<tbody id="tclear">
				</tbody>


			</table>
		</div>
	</div>


<!-- Modal For submission -->
<div class="modal fade bd-example-modal-lg" id="" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <!--Content-->
        <div class="modal-content">
            <!--Header-->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">Job Posting Criteria</h4>
            </div>
            <!--Body-->
            <form>
            <div class="modal-body">
                
                <div class="md-form">
                    <label for="form2">Job Type</label>
                    <input type="text" id="JobType" class="form-control">
                </div>
                
                 <div class="md-form">
                    <label for="form2">Description</label>
                    <input type="text" id="Descript" class="form-control">
                </div>
                
                 <div class="md-form">
                    <label for="form2">Industry Position</label>
                    <input type="text" id="Indust" class="form-control">
                </div>
                
                 <div class="md-form">
                    <label for="form2">Location</label>
                    <input type="text" id="Locate" class="form-control">
                </div>
                
            </div>
          
            <!--Footer-->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button"  class="btn btn-primary">Submit Posting</button>
            </div>
            </form>
        </div>
        
        <!--/.Content-->
    </div>
</div>

 


	<!-- jQery -->
	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

	<script type="text/javascript">
		$(document).ready(
				function() {	
					
				
					$('#recommend').click(function(){
						$.ajax("http://localhost:7001/sas/hmanager/recom", {
							method : "GET",
							headers : {
								"Accept" : "application/json"
							},
							success : function(response) {
								$('#tclear').empty();
								console.log("cleared")
								tableload(response);
							}
						});
					});

					function refresh() {
						$.ajax("http://localhost:7001/sas/hmanager/all", {
							method : "GET",
							headers : {
								"Accept" : "application/json"
							},
							success : function(response) {
								console.log(response);
								tableload(response);

							}
						});
					}
					
					function tableload(response) {
						$.each(response, function(index, temp) {
							$(".table tbody").append("<tr>");
							$(".table tbody").append(
									"<td>" + temp.sas_id + "</td>");
							$(".table tbody").append(
									"<td>" + temp.sas_author.user_first_name
											+ " "+ temp.sas_author.user_last_name
											+ "</td>");
							$(".table tbody").append(
									"<td>" + temp.sas_skills + "</td>");
							$(".table tbody").append(
									"<td>" + temp.resume + "</td>");
							$(".table tbody")
									.append("<td>" + "temp." + "</td>");
							$(".table tbody").append(
									"<td>" + temp.sas_submitted + "</td>");
							$(".table tbody").append(
									"<td>" + temp.sas_status_id.sas_status
											+ "</td>");
							$(".table tbody").append(
									"<td>" + "<button id=" + "Accept" +">"
											+ "Accept</button>" + "</td>");
							$(".table tbody").append("</tr>");
						});
					}

					refresh();
				})
	</script>
</body>


</html>